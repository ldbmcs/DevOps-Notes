## 行号定位

1. 行号 + G
2. : + 行号（Sublime Text 2也可以）

## 修改

```bash
o - 在当前行下方插入新行并自动缩进
O - 在当前行上方插入新行并自动缩进 （普通模式下的大写字母命令用 shift+字母键 输入，下同）
i - 在当前字符左方开始插入字符
a - 在当前字符右方开始插入字符
I - 光标移动到行首并进入插入模式
A - 光标移动到行尾并进入插入模式
s - 删除光标所在字符并进入插入模式
S - 删除光标所在行并进入插入模式
c<范围> - 删除光标所在位置周围某个范围的文本并进入插入模式。关于范围请看第5点，常用的组合有：caw - 删除一个单词包括它后面的空格并开始插入；ciw - 删除一个单词并开始插入；ci" - 删除一个字符串内部文本并开始插入；c$ - 从光标位置删除到行尾并开始插入；ct字符 - 从光标位置删除本行某个字符之前（保留该字符）并开始插入。等等。
C - 删除光标位置到行尾的内容并进入插入模式 (相当于c$)
r - 修改光标所在字符，然后返回普通模式
R - 进入覆盖模式
```

## 范围操作

### 动作命名

```bash
d<范围> - 删除一定范围内的文本
c<范围> - 删除一定范围内的文本并进入插入模式
y<范围> - 将范围内的文本放入0号和"号注册栏
v<范围> - 选择范围内的文本
=<范围> - 自动缩进范围内的文本
gU<范围> - 将范围内的字符转换为大写
gu<范围> - 将范围内的字符转换为小写
><范围> - 将范围中的内容缩进一格
<<范围> - 将范围中的内容取消缩进一格
```

### 范围指令

```bash
空格 - 光标所在位置字符。（例如 gU空格 - 将光标位置字符转为大写）
重复某些动作命令 - 光标所在行。 （例如dd删除一行，yy复制一行，cc删除一行文本并开始插入，>> 当前行缩进一格，==自动缩进当前行）
$ - 从光标位置到行尾
^ - 从光标位置到行首，不包含缩进空白
0 - 从光标位置到行首，包含缩进空白
gg - 从光标位置到文件开头
G - 从光标位置到文件结尾
% - 从光标位置到另一边匹配的括号
f<字符> - 从光标位置到光标右边某个字符首次出现的位置，包括该字符
F<字符> - 从光标位置到光标左边某个字符首次出现的位置，包括该字符
t<字符> - 从光标位置到光标右边某个字符首次出现的位置，包括该字符
F<字符> - 从光标位置到光标左边某个字符首次出现的位置，包括该字符
/正则表达式 - 从光标位置到下一个匹配正则表达式的位置（跨行）
?正则表达式 - 从光标位置到上一个匹配正则表达式的位置（跨行）
aw - 一个单词加一个空格 （a可理解为“一个”，下同）
iw - 一个单词 （i可理解为in，下同）
a" - 一个字符串包括双引号
i" - 一个字符串内部文本
a< - 一组< >包含的文本，包括< >号本身
同理类推：i<, a[, i[, a(, i(
```

## 选择文本

```bash
v - 进入字符选择模式， V - 进入行选择模式， Ctrl+v - 进入块选择模式。
```

## 复制粘贴

1. 用y命令将文本存入寄存器后，如果想在别处替换原有内容，可以先用v命令选中原有内容，然后用p命令粘贴。

   但第一次粘贴后，默认的寄存器”将被替换为刚刚删除的内容。如果要再次粘贴之前复制的内容，需要使用 “0p 命令组合来复制。

   也可以进入插入模式后用 Ctrl+r 0 来复制，例如 ciw<Ctrl+r>0 命令组合将用粘贴内容替换光标处的一个单词，并停留在插入模式。

2. 在Windows下，寄存器 + 和 * 都代表系统剪贴板，可以互换使用，选一个顺手的即可。

   例如 “+yy 命令组合可将当前行复制到系统剪贴板。ci”<Ctrl+r>* 命令组合则将系统剪贴板的内容替换字符串的内部文本。

3. 寄存器1至9记录之前九次的删除大段文本，每次超过一行的删除操作都会导致这9个寄存器的内容发生位移，最近删除的文本会存入寄存器1。

   但只有删除超过1行时才会影响寄存器1至9，行内的删除内容则会被存入寄存器-（减号）。

   如果用q命令录制宏时不涉及跨行删除，可以在宏中直接使用这9个寄存器来暂存文本。

   （在Vim中，复制内容与录制宏共享同一套寄存器，因此我习惯把字母寄存器留给宏使用）

4. 普通模式下小写p把寄存器内容复制到当前位置之后，大写P把寄存器内容复制到当前位置之前。

5. 使用 :regs 命令可以列出当前所有寄存器的内容

## 插入模式下的常用快捷键

```bash
Ctrl+h - 删除光标左边字符
Ctrl+w - 删除光标左边的单词
Ctrl+y - 复制上方的一个字符
Ctrl+e - 复制下方的一个字符
Ctrl+r 0 - 插入前一次用y命令寄存的内容
Ctrl+r * - 插入系统剪贴板的内容
Ctrl+r <寄存器名称> - 插入指定寄存器的内容
Ctrl+a - 插入前一次插入模式所键入的内容
Ctrl+o - 执行一个普通模式下的命令然后返回插入模式。 例如 Ctrl+o A 相当于按 End键， Ctrl+o I相当于按Home键
```

## 退出插入模式

退出插入模式可以用 ESC 键，但键位太远。其实也可以用 Ctrl+[ 键退出插入模式 。

当然也可以用第1点自定义的Ctrl+;快捷键，但这不是标准vim按键，会养成不良习惯，不建议使用。

## 重复操作

普通模式下按. （小数点）可重复上一次的修改操作。

```bash
& - 重复上一次的:s替换命令
@@ - 重复上一次执行的宏
```

## 跳转

```bash
Ctrl+] 跳转到当前标识符的定义位置 （相当于在当前光标位置的单词上按住ctrl用鼠标点击）
Ctrl+o 回退一步 (go back)
Ctrl+i 前进一步 (go forward)
`. 跳转到之前修改位置
`` 在前一次跳转位置与当前位置间切换
行号G 或 :行号<回车>  跳转到某一行
gg 跳转到文件开头
G  跳转到文件末尾
H  跳转到屏幕顶端（如果设置了set so=n，则跳转到第n行）
L  跳转到屏幕底端（如果设置了set so=n，则跳转到倒数第n行）
M  跳转到屏幕中间
f 或 F 跳转到本行某个字符，小写f向右查找，大写F向左查找。用;或,在匹配间切换
t 或 T 跳转到本行某个字符之前，小写t向右查找，大写T向左查找。用;或,在匹配间切换
/正则表达式  跳转到下一个匹配。用n或N在匹配间切换。
?正则表达式  跳转到上一个匹配。用n或N在匹配间切换。
```

## 代码折叠

```bash
zo - 打开折叠
zc - 关闭折叠
```

## 常用组合技

```bash
全选：ggvG
调换两个字符位置：xp
复制一行：yyp
调换两行位置：ddp
插入模式下到行尾继续输入（相当于End键）：Ctrl+o A 或 Ctrl+[ A
插入模式下到行首继续输入（相当于Home键）：Ctrl+o I 或 Ctrl+[ I
到类定义位置（适用于正确缩进的public，protected类） ：?^p回车
```

